from random import randint


# Рандомно выбирает загаданное число в заданных пределах
def hidden_num():
    return randint(1, right_range)


# Функция проверки для числа. Если является числом (в т.ч. работает и для чисел с точкой, их отбрасывает)
# и находится в границах от 1 до края диапазона
def is_valid(num):
    return num.isdigit() and 1 <= int(num) <= right_range


# Просто чтобы код не плодить, входит в функцию - цикл сравнения и не пропускает что-то, кроме нужного числа
def input_num():
    while True:
        num = input(f'Введите целое число от 1 до {right_range}: ')
        if not is_valid(num):
            print(f'А может быть все-таки введем целое число от 1 до {right_range}?')
        return int(num)


# Функция сравнения чисел и счета попыток, которая завершается только после угадывания
# Основная рабочая функция
def compare_num():
    counter = 0
    while True:
        counter += 1
        n = input_num()
        if n < hidden_num:
            print('Ваше число меньше загаданного, попробуйте еще разок')
        if n > hidden_num:
            print('Ваше число больше загаданного, попробуйте еще разок')
        if n == hidden_num:
            print(f'Вы угадали за {counter} попыток(-ки), поздравляем!')
            print('Спасибо, что играли в числовую угадайку')
            break


# Позволяет запустить игру снова по желанию пользователя
def play_again():
    while True:
        print('Желаете сыграть еще раз? Наберите ДА или НЕТ')
        s = input()
        if s == 'ДА':
            compare_num()
        elif s == 'НЕТ':
            break
        else:
            print('Уточни - ДА или НЕТ?')


#Сама игра
print('Добро пожаловать в числовую угадайку')
print('От 1 до скольки будем загадывать число?')
right_range = int(input())    # Для того чтобы все работало, необходимо ввести переменную правой границы диапазона
hidden_num = hidden_num()     # В заданных пределах формируется загаданное число
compare_num()
play_again()
